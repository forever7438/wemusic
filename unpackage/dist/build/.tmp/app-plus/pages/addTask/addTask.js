(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/addTask/addTask"],{1670:function(t,o,n){"use strict";(function(t){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var e=n("3648"),s=function(){return n.e("components/progress").then(n.bind(null,"1dbd"))},a="",i={components:{progressBar:s},data:function(){return{classId:"",notes_photo:[],notes_photos:[],notes_content:"",show:!1,progress:0}},onLoad:function(t){this.classId=t.classId,a=this},onShow:function(){"en-US"==t.getStorageSync("langType")?t.setNavigationBarTitle({title:"add task"}):t.setNavigationBarTitle({title:"提交作业"})},methods:{chooseImage:function(o){a.notes_photos=[],t.chooseImage({count:9,success:function(t){a.notes_photos=t.tempFilePaths,t.tempFilePaths.map(function(t,o){a.uploadFile(t,o)})},fail:function(t){console.log("chooseImage fail",t," at pages\\addTask\\addTask.vue:56")}})},uploadFile:function(o){a.notes_photo=[],t.uploadFile({url:e.ApiUrl+"index/photo_add",filePath:o,name:"file",header:{role:"student",Authorization:t.getStorageSync("token")},success:function(t){var o=JSON.parse(t.data);"success"===o.data&&a.notes_photo.push(o.body.photo)}})}},onNavigationBarButtonTap:function(o){this.notes_photo?this.notes_content?this.ajax({url:"studentclass/student_notes",data:{class_id:this.classId,notes_photo:this.notes_photo.toString(),notes_content:this.notes_content,notes_video:""},success:function(o){"success"===o.data.body?t.showToast({title:"提交成功",icon:"none"}):t.showToast({title:o.data.msg,icon:"none"})}}):t.showToast({title:"请填写内容",icon:"none"}):t.showToast({title:"请选择图片",icon:"none"})}};o.default=i}).call(this,n("6e42")["default"])},"2a0b":function(t,o,n){"use strict";var e=function(){var t=this,o=t.$createElement;t._self._c},s=[];n.d(o,"a",function(){return e}),n.d(o,"b",function(){return s})},"54dc":function(t,o,n){"use strict";n.r(o);var e=n("2a0b"),s=n("fcce");for(var a in s)"default"!==a&&function(t){n.d(o,t,function(){return s[t]})}(a);n("5cbd");var i=n("2877"),c=Object(i["a"])(s["default"],e["a"],e["b"],!1,null,null,null);o["default"]=c.exports},"5cbd":function(t,o,n){"use strict";var e=n("bf4d"),s=n.n(e);s.a},bf4d:function(t,o,n){},fcce:function(t,o,n){"use strict";n.r(o);var e=n("1670"),s=n.n(e);for(var a in e)"default"!==a&&function(t){n.d(o,t,function(){return e[t]})}(a);o["default"]=s.a}},[["dd06","common/runtime","common/vendor"]]]);